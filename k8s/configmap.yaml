apiVersion: v1
kind: ConfigMap
metadata:
  name: notification-service-config
  namespace: notification
data:
  application.yml: |
    spring:
      application:
        name: notification-service
      rabbitmq:
        host: rabbitmq
        port: 5672
      redis:
        host: redis
        port: 6379
      datasource:
        url: jdbc:postgresql://postgresql:5432/notifications
      jpa:
        hibernate:
          ddl-auto: validate
    management:
      endpoints:
        web:
          exposure:
            include: health,metrics,prometheus
      endpoint:
        health:
          show-details: always
    notification:
      retry:
        max-attempts: 3
      rate-limit:
        requests-per-minute: 1000
